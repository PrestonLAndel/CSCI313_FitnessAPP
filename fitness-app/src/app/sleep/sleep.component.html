<div class="sleep-container">
  <h2>Sleep Tracker</h2>

  <form (ngSubmit)="addEntry()" #sleepForm="ngForm">
    <label for="date">Date:</label>
    <input type="date" id="date" [(ngModel)]="date" name="date" required>

    <label for="hours">Hours Slept:</label>
    <input type="number" id="hours" [(ngModel)]="hours" name="hours" min="0" max="24" required>

    <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>

    <button type="submit" [disabled]="!sleepForm.valid">Add Entry</button>
    <button type="button" (click)="clearEntries()">Clear All</button>
  </form>

  <div *ngIf="sleepData.length > 0" class="summary">
    <p><strong>Total Average:</strong> {{ totalAverageHours }} hrs</p>
    <p><strong>Last 7 Days Average:</strong> {{ weeklyAverageHours }} hrs ({{ weeklyEntryCount }} entries)</p>
  </div>

  <ul>
    <li *ngFor="let entry of sleepData; let i = index">
      {{ entry.date }} - {{ entry.hours }} hours
      <button class="delete" (click)="deleteEntry(i)">Delete</button>
    </li>
  </ul>
</div>
